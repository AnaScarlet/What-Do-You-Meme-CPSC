<!DOCTYPE html>
<html>
    <header>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </header>
    <style>
        
    </style>
    <div class = "grid-container">
            <!--
            <button (click)="getImage()">Get New Image :O</button>
            -->
         <div class = "top-section">
            <div class="headerl"><img src="{{memeImage}}"></div>
            <div class="headerm">
                <div *ngIf="isCzar">
                    <p style="color: #7b1fa2; font-size: 50px;"><u>Pick the winner</u></p>
                </div>
                
                <div class="bottom">
                    <div *ngIf="!isCzar">
                        <button id = "clicker" (click)="submitCard(getSelected())"> Submit Your Meme! </button> 
                    </div>
                    <div *ngIf="isCzar">
                        <button id = "clicker" (click)="chooseWinner(getSelected())"> End Turn </button> 
                    </div>
                </div>
            </div>
            <div class="headerr">
                  
                <!--Score board here-->
                <h2 style="color: #7b1fa2"><u>Game Score</u></h2>
                <div *ngFor="let score of scores">
                    <h3> {{score[0]}}: {{score[1]}}</h3>
                </div>
            </div>
         </div>

         <div *ngIf="isCzar" class = "card-section">
            <div *ngFor="let submittedCard of submittedCards; let i = index">
                <div [ngClass]="{'highlight':checkIfCardIsClicked(0)}" [attr.data-index]="i" (click)="setcurrentlyClickedCardIndex(i)"> {{submittedCard}} </div>
            </div>
         </div>
        <div *ngIf="!isCzar" class = "card-section">
            <div
            [ngClass]="{'highlight':checkIfCardIsClicked(0)}"
            (click)="setcurrentlyClickedCardIndex(0)">
            {{hand[0]}}</div>
            <div 
            [ngClass]="{'highlight':checkIfCardIsClicked(1)}"
            (click)="setcurrentlyClickedCardIndex(1)">
            {{hand[1]}}</div>
            <div
            [ngClass]="{'highlight':checkIfCardIsClicked(2)}"
            (click)="setcurrentlyClickedCardIndex(2)">
            {{hand[2]}}</div>
            <div 
            [ngClass]="{'highlight':checkIfCardIsClicked(3)}"
            (click)="setcurrentlyClickedCardIndex(3)">
            {{hand[3]}}</div>
            <div
            [ngClass]="{'highlight':checkIfCardIsClicked(4)}"
            (click)="setcurrentlyClickedCardIndex(4)">
            {{hand[4]}}</div>
        </div>
            
    </div>
    <div *ngIf = "showOverlay" class = "roundOverlay">
        <div class = "overlayText">
           <p>{{roundWinner}} wins this round! Their card was:</p>
           <p>{{winningCaption}}</p>
           <p>The next round is about to start!</p>
        </div>
    </div>
    <div *ngIf = "showWinnerOverlay" class = "roundOverlay">
        <div class = "overlayText">
            <p>With a score of 5! The Winner of What Do You Meme CPSC Edition is:</p>
            <p> {{winner}} </p>        
            <button (click)="returnHome()">Return Home</button>

        </div>

    </div>



</html>